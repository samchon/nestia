import{l as x,n as K,o as F}from"./AgenticaChatApplication-Bss6Wmz6.js";var A;(function(a){a.is=m=>typeof m=="object"&&m!==null&&typeof m.openapi=="string"&&m.openapi.startsWith("3.0")})(A||(A={}));var S;(function(a){a.is=m=>typeof m=="object"&&m!==null&&typeof m.openapi=="string"&&m.openapi.startsWith("3.1")})(S||(S={}));var _;(function(a){a.is=m=>typeof m=="object"&&m!==null&&typeof m.swagger=="string"&&m.swagger.startsWith("2.0")})(_||(_={}));var q;(function(a){a.convert=i=>i["x-samchon-emended"]===!0?i:{...i,components:w(i.components??{}),paths:i.paths?Object.fromEntries(Object.entries(i.paths).filter(([e,r])=>r!==void 0).map(([e,r])=>[e,O(i)(r)])):void 0,webhooks:i.webhooks?Object.fromEntries(Object.entries(i.webhooks).filter(([e,r])=>r!==void 0).map(([e,r])=>[e,m(i)(r)]).filter(([e,r])=>r!==void 0)):void 0,"x-samchon-emended":!0};const m=i=>e=>{var o,d;if(!n.isReference(e))return O(i)(e);const r=(d=(o=i.components)==null?void 0:o.pathItems)==null?void 0:d[e.$ref.split("/").pop()??""];return r?O(i)(r):void 0},O=i=>e=>({...e,...e.get?{get:b(i)(e)(e.get)}:void 0,...e.put?{put:b(i)(e)(e.put)}:void 0,...e.post?{post:b(i)(e)(e.post)}:void 0,...e.delete?{delete:b(i)(e)(e.delete)}:void 0,...e.options?{options:b(i)(e)(e.options)}:void 0,...e.head?{head:b(i)(e)(e.head)}:void 0,...e.patch?{patch:b(i)(e)(e.patch)}:void 0,...e.trace?{trace:b(i)(e)(e.trace)}:void 0}),b=i=>e=>r=>({...r,parameters:e.parameters!==void 0||r.parameters!==void 0?[...e.parameters??[],...r.parameters??[]].map(o=>{var u,s,v,p;if(!n.isReference(o))return g(i.components??{})(o);const d=o.$ref.startsWith("#/components/headers/")?(s=(u=i.components)==null?void 0:u.headers)==null?void 0:s[o.$ref.split("/").pop()??""]:(p=(v=i.components)==null?void 0:v.parameters)==null?void 0:p[o.$ref.split("/").pop()??""];return d!==void 0?g(i.components??{})({...d,in:"header"}):void 0}).filter((o,d)=>d!==void 0):void 0,requestBody:r.requestBody?$(i)(r.requestBody):void 0,responses:r.responses?Object.fromEntries(Object.entries(r.responses).filter(([o,d])=>d!==void 0).map(([o,d])=>[o,R(i)(d)]).filter(([o,d])=>d!==void 0)):void 0}),g=i=>e=>({...e,schema:l(i)(e.schema),examples:e.examples?Object.fromEntries(Object.entries(e.examples).map(([r,o])=>{var d;return[r,n.isReference(o)?(d=i.examples)==null?void 0:d[o.$ref.split("/").pop()??""]:o]}).filter(([r,o])=>o!==void 0)):void 0}),$=i=>e=>{var r,o;if(n.isReference(e)){const d=(o=(r=i.components)==null?void 0:r.requestBodies)==null?void 0:o[e.$ref.split("/").pop()??""];if(d===void 0)return;e=d}return{...e,content:e.content?E(i.components??{})(e.content):void 0}},R=i=>e=>{var r,o;if(n.isReference(e)){const d=(o=(r=i.components)==null?void 0:r.responses)==null?void 0:o[e.$ref.split("/").pop()??""];if(d===void 0)return;e=d}return{...e,content:e.content?E(i.components??{})(e.content):void 0,headers:e.headers?Object.fromEntries(Object.entries(e.headers).filter(([d,u])=>u!==void 0).map(([d,u])=>[d,(()=>{var v,p;if(n.isReference(u)===!1)return g(i.components??{})({...u,in:"header"});const s=u.$ref.startsWith("#/components/headers/")?(p=(v=i.components)==null?void 0:v.headers)==null?void 0:p[u.$ref.split("/").pop()??""]:void 0;return s!==void 0?g(i.components??{})({...s,in:"header"}):void 0})()]).filter(([d,u])=>u!==void 0)):void 0}},E=i=>e=>Object.fromEntries(Object.entries(e).filter(([r,o])=>o!==void 0).map(([r,o])=>[r,{...o,schema:o.schema?l(i)(o.schema):void 0,examples:o.examples?Object.fromEntries(Object.entries(o.examples).map(([d,u])=>{var s;return[d,n.isReference(u)?(s=i.examples)==null?void 0:s[u.$ref.split("/").pop()??""]:u]}).filter(([d,u])=>u!==void 0)):void 0}])),w=i=>({schemas:Object.fromEntries(Object.entries(i.schemas??{}).filter(([e,r])=>r!==void 0).map(([e,r])=>[e,l(i)(r)])),securitySchemes:i.securitySchemes}),l=i=>e=>{const r=[],o={title:e.title,description:e.description,...Object.fromEntries(Object.entries(e).filter(([s,v])=>s.startsWith("x-")&&v!==void 0))},d={value:!1,default:void 0},u=s=>{var v,p,j,N,z,M,U;if(s.nullable===!0&&(d.value||(d.value=!0),s.default===null&&(d.default=null)),Array.isArray(s.enum)&&((v=s.enum)!=null&&v.length)&&((p=s.enum)!=null&&p.some(c=>c===null))&&(d.value||(d.value=!0)),n.isMixed(s)){s.const!==void 0&&u({...s,type:void 0,oneOf:void 0,anyOf:void 0,allOf:void 0,$ref:void 0}),s.oneOf!==void 0&&u({...s,type:void 0,anyOf:void 0,allOf:void 0,$ref:void 0}),s.anyOf!==void 0&&u({...s,type:void 0,oneOf:void 0,allOf:void 0,$ref:void 0}),s.allOf!==void 0&&u({...s,type:void 0,oneOf:void 0,anyOf:void 0,$ref:void 0});for(const c of s.type)u(c==="boolean"||c==="number"||c==="string"?{...s,enum:(j=s.enum)!=null&&j.length&&s.enum.filter(y=>y!==null)?s.enum.filter(y=>typeof y===c):void 0,type:c}:c==="integer"?{...s,enum:(N=s.enum)!=null&&N.length&&s.enum.filter(y=>y!==null)?s.enum.filter(y=>y!==null&&typeof y=="number"&&Number.isInteger(y)):void 0,type:c}:{...s,type:c})}else if(n.isOneOf(s))s.oneOf.forEach(u);else if(n.isAnyOf(s))s.anyOf.forEach(u);else if(n.isAllOf(s))s.allOf.length===1?u(s.allOf[0]):r.push(f(i)(s));else if(n.isBoolean(s))if((z=s.enum)!=null&&z.length&&s.enum.filter(c=>c!==null).length)for(const c of s.enum.filter(y=>y!==null))r.push({const:c,...s,type:void 0,enum:void 0,default:void 0});else r.push({...s,default:s.default??void 0,enum:void 0});else if(n.isInteger(s)||n.isNumber(s))if((M=s.enum)!=null&&M.length&&s.enum.filter(c=>c!==null))for(const c of s.enum.filter(y=>y!==null))r.push({const:c,...s,type:void 0,enum:void 0,default:void 0,minimum:void 0,maximum:void 0,exclusiveMinimum:void 0,exclusiveMaximum:void 0,multipleOf:void 0});else r.push({...s,default:s.default??void 0,enum:void 0,...typeof s.exclusiveMinimum=="number"?{minimum:s.exclusiveMinimum,exclusiveMinimum:!0}:{exclusiveMinimum:s.exclusiveMinimum},...typeof s.exclusiveMaximum=="number"?{maximum:s.exclusiveMaximum,exclusiveMaximum:!0}:{exclusiveMaximum:s.exclusiveMaximum}});else if(n.isString(s))if((U=s.enum)!=null&&U.length&&s.enum.filter(c=>c!==null).length)for(const c of s.enum.filter(y=>y!==null))r.push({const:c,...s,type:void 0,enum:void 0,default:void 0});else r.push({...s,default:s.default??void 0,enum:void 0});else n.isArray(s)?Array.isArray(s.items)?r.push({...s,items:void 0,prefixItems:s.items.map(l(i)),additionalItems:typeof s.additionalItems=="object"&&s.additionalItems!==null?l(i)(s.additionalItems):s.additionalItems}):Array.isArray(s.prefixItems)?r.push({...s,items:void 0,prefixItems:s.prefixItems.map(l(i)),additionalItems:typeof s.additionalItems=="object"&&s.additionalItems!==null?l(i)(s.additionalItems):s.additionalItems}):s.items===void 0?r.push({...s,items:void 0,prefixItems:[]}):r.push({...s,items:l(i)(s.items),prefixItems:void 0,additionalItems:void 0}):n.isObject(s)?r.push({...s,properties:s.properties?Object.fromEntries(Object.entries(s.properties).filter(([c,y])=>y!==void 0).map(([c,y])=>[c,l(i)(y)])):{},additionalProperties:s.additionalProperties?typeof s.additionalProperties=="object"&&s.additionalProperties!==null?l(i)(s.additionalProperties):s.additionalProperties:void 0,required:s.required??[]}):n.isRecursiveReference(s)?r.push({...s,$ref:s.$recursiveRef,$recursiveRef:void 0}):r.push(s)};return u(e),d.value===!0&&!r.some(s=>s.type==="null")&&r.push({type:"null",default:d.default}),{...r.length===0?{type:void 0}:r.length===1?{...r[0]}:{oneOf:r.map(s=>({...s,nullable:void 0}))},...o,nullable:void 0}},f=i=>e=>{const r=e.allOf.map(o=>t(i)(o));return r.some(o=>o===null)?{type:void 0,allOf:void 0}:{...e,type:"object",properties:Object.fromEntries(r.map(o=>Object.entries((o==null?void 0:o.properties)??{})).flat().map(([o,d])=>[o,l(i)(d)])),allOf:void 0,required:[...new Set(r.map(o=>(o==null?void 0:o.required)??[]).flat())]}},t=i=>(e,r=new Set)=>{var o,d;return n.isObject(e)?e.properties!==void 0&&!e.additionalProperties?e:null:r.has(e)?null:(r.add(e),n.isReference(e)?t(i)(((o=i.schemas)==null?void 0:o[e.$ref.split("/").pop()??""])??{},r):n.isRecursiveReference(e)?t(i)(((d=i.schemas)==null?void 0:d[e.$recursiveRef.split("/").pop()??""])??{},r):null)};let n;(function(i){i.isConstant=e=>e.const!==void 0,i.isBoolean=e=>e.type==="boolean",i.isInteger=e=>e.type==="integer",i.isNumber=e=>e.type==="number",i.isString=e=>e.type==="string",i.isArray=e=>e.type==="array",i.isObject=e=>e.type==="object",i.isReference=e=>e.$ref!==void 0,i.isRecursiveReference=e=>e.$recursiveRef!==void 0,i.isAllOf=e=>e.allOf!==void 0,i.isAnyOf=e=>e.anyOf!==void 0,i.isOneOf=e=>e.oneOf!==void 0,i.isNullOnly=e=>e.type==="null",i.isMixed=e=>Array.isArray(e.type)})(n||(n={}))})(q||(q={}));var P;(function(a){a.downgrade=l=>{var t,n,i;const f=a.downgradeComponents(l.components);return{swagger:"2.0",info:l.info,host:(n=(t=l.servers)==null?void 0:t[0])!=null&&n.url?l.servers[0].url.split("://").pop():"",definitions:f.downgraded,securityDefinitions:(i=l.components)!=null&&i.securitySchemes?Object.fromEntries(Object.entries(l.components.securitySchemes).filter(([e,r])=>r!==void 0).map(([e,r])=>E(r).map(o=>[e,o])).flat()):void 0,paths:l.paths?Object.fromEntries(Object.entries(l.paths).filter(([e,r])=>r!==void 0).map(([e,r])=>[e,m(f)(r)])):void 0,security:l.security,tags:l.tags}};const m=l=>f=>({...f,...f.get?{get:O(l)(f.get)}:void 0,...f.put?{put:O(l)(f.put)}:void 0,...f.post?{post:O(l)(f.post)}:void 0,...f.delete?{delete:O(l)(f.delete)}:void 0,...f.options?{options:O(l)(f.options)}:void 0,...f.head?{head:O(l)(f.head)}:void 0,...f.patch?{patch:O(l)(f.patch)}:void 0,...f.trace?{trace:O(l)(f.trace)}:void 0}),O=l=>f=>({...f,parameters:f.parameters!==void 0||f.requestBody!==void 0?[...(f.parameters??[]).map(b(l)),...f.requestBody?[g(l)(f.requestBody)]:[]]:void 0,responses:f.responses?Object.fromEntries(Object.entries(f.responses).filter(([t,n])=>n!==void 0).map(([t,n])=>[t,$(l)(n)])):void 0,requestBody:void 0,servers:void 0}),b=l=>(f,t)=>{var n;return{...a.downgradeSchema(l)(f.schema),...f,required:(n=f.schema)==null?void 0:n.required,schema:void 0,name:f.name??`p${t}`,example:void 0,examples:void 0}},g=l=>f=>{var t;return{name:"body",in:"body",description:f.description,required:f.required,schema:a.downgradeSchema(l)(((t=Object.values(f.content??{})[0])==null?void 0:t.schema)??{})}},$=l=>f=>{var t;return{description:f.description,schema:a.downgradeSchema(l)(((t=Object.values(f.content??{})[0])==null?void 0:t.schema)??{}),headers:f.headers?Object.fromEntries(Object.entries(f.headers).filter(([n,i])=>i!==void 0).map(([n,i])=>[n,{...i,schema:a.downgradeSchema(l)(i.schema),example:void 0,examples:void 0}])):void 0}};a.downgradeComponents=l=>{const f={original:l,downgraded:{}};if(l.schemas){f.downgraded.schemas={};for(const[t,n]of Object.entries(l.schemas))n!==void 0&&(f.downgraded[t.split("/").pop()]=a.downgradeSchema(f)(n))}return f},a.downgradeSchema=l=>f=>{const t=w(new Set)(l.original)(f),n=[],i={title:f.title,description:f.description,example:f.example,examples:f.examples?Object.values(f.examples):void 0,...Object.fromEntries(Object.entries(f).filter(([r,o])=>r.startsWith("x-")&&o!==void 0))},e=r=>{x.isBoolean(r)?n.push({type:"boolean"}):x.isBoolean(r)||x.isInteger(r)||x.isNumber(r)||x.isString(r)?n.push({...r,examples:r.examples?Object.values(r.examples):void 0}):x.isReference(r)?n.push({$ref:`#/definitions/${r.$ref.split("/").pop()}`}):x.isArray(r)?n.push({...r,items:a.downgradeSchema(l)(r.items),examples:r.examples?Object.values(r.examples):void 0}):x.isTuple(r)?n.push({...r,items:(()=>{if(r.additionalItems===!0)return{};const o=[...r.prefixItems,...typeof r.additionalItems=="object"?[a.downgradeSchema(l)(r.additionalItems)]:[]];return o.length===0?{}:{"x-oneOf":o.map(a.downgradeSchema(l))}})(),minItems:r.prefixItems.length,maxItems:r.additionalItems?void 0:r.prefixItems.length,prefixItems:void 0,additionalItems:void 0,examples:r.examples?Object.values(r.examples):void 0}):x.isObject(r)?n.push({...r,properties:r.properties?Object.fromEntries(Object.entries(r.properties).filter(([o,d])=>d!==void 0).map(([o,d])=>[o,a.downgradeSchema(l)(d)])):void 0,additionalProperties:typeof r.additionalProperties=="object"?a.downgradeSchema(l)(r.additionalProperties):r.additionalProperties,required:r.required,examples:r.examples?Object.values(r.examples):void 0}):x.isOneOf(r)&&r.oneOf.forEach(e)};if(e(f),t)for(const r of n)x.isReference(r)?R(new Set)(l)(r):r["x-nullable"]=!0;return t===!0&&n.length===0?{type:"null",...i}:{...n.length===0?{type:void 0}:n.length===1?{...n[0]}:{"x-oneOf":n},...i,...n.length>1?{discriminator:void 0}:{}}};const R=l=>f=>t=>{var e;const n=t.$ref.split("/").pop();if(n.endsWith(".Nullable"))return;const i=(e=f.original.schemas)==null?void 0:e[n];if(i!==void 0){{if(w(l)(f.original)(i)===!0)return;f.downgraded[`${n}.Nullable`]===void 0&&(f.downgraded[`${n}.Nullable`]={},f.downgraded[`${n}.Nullable`]=a.downgradeSchema(f)(x.isOneOf(i)?{...i,oneOf:[...i.oneOf,{type:"null"}]}:{title:i.title,description:i.description,example:i.example,examples:i.examples?Object.values(i.examples):void 0,...Object.fromEntries(Object.entries(i).filter(([r,o])=>r.startsWith("x-")&&o!==void 0)),oneOf:[i,{type:"null"}]}))}t.$ref+=".Nullable"}},E=l=>{if(l.type==="apiKey")return[l];if(l.type==="http")return l.scheme==="basic"?[{type:"basic",description:l.description}]:[];if(l.type==="oauth2"){const f=[];return l.flows.implicit&&f.push({type:"oauth2",flow:"implicit",authorizationUrl:l.flows.implicit.authorizationUrl,scopes:l.flows.implicit.scopes}),l.flows.password&&f.push({type:"oauth2",flow:"password",tokenUrl:l.flows.password.tokenUrl,scopes:l.flows.password.scopes}),l.flows.clientCredentials&&f.push({type:"oauth2",flow:"application",tokenUrl:l.flows.clientCredentials.tokenUrl,scopes:l.flows.clientCredentials.scopes}),l.flows.authorizationCode&&f.push({type:"oauth2",flow:"accessCode",authorizationUrl:l.flows.authorizationCode.authorizationUrl,tokenUrl:l.flows.authorizationCode.tokenUrl,scopes:l.flows.authorizationCode.scopes}),f}return[]},w=l=>f=>t=>{var n;if(x.isNull(t))return!0;if(x.isReference(t)){if(l.has(t.$ref))return!1;l.add(t.$ref);const i=t.$ref.split("/").pop(),e=(n=f.schemas)==null?void 0:n[i];return e?w(l)(f)(e):!1}return x.isOneOf(t)&&t.oneOf.some(w(l)(f))}})(P||(P={}));var B;(function(a){a.convert=t=>({openapi:"3.1.0",info:t.info,components:R(t),paths:t.paths?Object.fromEntries(Object.entries(t.paths).filter(([n,i])=>i!==void 0).map(([n,i])=>[n,m(t)(i)])):void 0,servers:t.host?[{url:t.host}]:void 0,security:t.security,tags:t.tags,"x-samchon-emended":!0});const m=t=>n=>({...n,...n.get?{get:O(t)(n)(n.get)}:void 0,...n.put?{put:O(t)(n)(n.put)}:void 0,...n.post?{post:O(t)(n)(n.post)}:void 0,...n.delete?{delete:O(t)(n)(n.delete)}:void 0,...n.options?{options:O(t)(n)(n.options)}:void 0,...n.head?{head:O(t)(n)(n.head)}:void 0,...n.patch?{patch:O(t)(n)(n.patch)}:void 0,...n.trace?{trace:O(t)(n)(n.trace)}:void 0}),O=t=>n=>i=>({...i,parameters:n.parameters!==void 0||i.parameters!==void 0?[...n.parameters??[],...i.parameters??[]].map(e=>{var r;return f.isReference(e)?(r=t.parameters)==null?void 0:r[e.$ref.split("/").pop()??""]:e}).filter(e=>e!==void 0&&e.in!=="body"&&e.schema===void 0).map(b(t.definitions??{})):void 0,requestBody:(()=>{var r;const e=(r=i.parameters)==null?void 0:r.find(o=>{var d;return f.isReference(o)&&(o=(d=t.parameters)==null?void 0:d[o.$ref.split("/").pop()??""]),(o==null?void 0:o.schema)!==void 0});return e?g(t.definitions??{})(e):void 0})(),responses:i.responses?Object.fromEntries(Object.entries(i.responses).filter(([e,r])=>r!==void 0).map(([e,r])=>[e,$(t)(r)]).filter(([e,r])=>r!==void 0)):void 0}),b=t=>n=>({name:n.name,in:n.in,description:n.description,schema:a.convertSchema(t)(n),required:!0}),g=t=>n=>({description:n.description,content:{"application/json":{schema:a.convertSchema(t)(n.schema)}}}),$=t=>n=>{var i;if(f.isReference(n)){const e=(i=t.responses)==null?void 0:i[n.$ref.split("/").pop()??""];if(e===void 0)return;n=e}return{description:n.description,content:n.schema?{"application/json":{schema:a.convertSchema(t.definitions??{})(n.schema),example:n.example}}:void 0,headers:n.headers?Object.fromEntries(Object.entries(n.headers).filter(([e,r])=>r!==void 0).map(([e,r])=>[e,{schema:a.convertSchema(t.definitions??{})(r),in:"header"}])):void 0}},R=t=>({schemas:Object.fromEntries(Object.entries(t.definitions??{}).filter(([n,i])=>i!==void 0).map(([n,i])=>[n,a.convertSchema(t.definitions??{})(i)])),securitySchemes:t.securityDefinitions?Object.fromEntries(Object.entries(t.securityDefinitions).filter(([n,i])=>i!==void 0).map(([n,i])=>[n,E(i)]).filter(([n,i])=>i!==void 0)):void 0}),E=t=>{if(t.type==="apiKey")return t;if(t.type==="basic")return{type:"http",scheme:"basic",description:t.description};if(t.type==="oauth2")return t.flow==="implicit"?{type:"oauth2",description:t.description,flows:{implicit:{authorizationUrl:t.authorizationUrl,scopes:t.scopes}}}:t.flow==="accessCode"?{type:"oauth2",description:t.description,flows:{authorizationCode:{authorizationUrl:t.authorizationUrl,tokenUrl:t.tokenUrl,scopes:t.scopes}}}:t.flow==="password"?{type:"oauth2",description:t.description,flows:{password:{tokenUrl:t.tokenUrl,scopes:t.scopes}}}:t.flow==="application"?{type:"oauth2",description:t.description,flows:{clientCredentials:{tokenUrl:t.tokenUrl,scopes:t.scopes}}}:void 0};a.convertSchema=t=>n=>{const i={value:!1,default:void 0},e=[],r={title:n.title,description:n.description,...Object.fromEntries(Object.entries(n).filter(([d,u])=>d.startsWith("x-")&&u!==void 0)),example:n.example,examples:n.examples?Object.fromEntries(n.examples.map((d,u)=>[u.toString(),d])):void 0},o=d=>{var u,s,v;d["x-nullable"]===!0&&(i.value||(i.value=!0),d.default===null&&(i.default=null)),Array.isArray(d.enum)&&((u=d.enum)!=null&&u.length)&&((s=d.enum)!=null&&s.some(p=>p===null))&&(i.value||(i.value=!0)),f.isAnyOf(d)?d["x-anyOf"].forEach(o):f.isOneOf(d)?d["x-oneOf"].forEach(o):f.isAllOf(d)?d.allOf.length===1?o(d.allOf[0]):e.push(w(t)(d)):f.isBoolean(d)||f.isInteger(d)||f.isNumber(d)||f.isString(d)?(v=d.enum)!=null&&v.length&&d.enum.filter(p=>p!==null).length?e.push(...d.enum.filter(p=>p!==null).map(p=>({const:p}))):e.push({...d,default:d.default??void 0,examples:d.examples?Object.fromEntries(d.examples.map((p,j)=>[j.toString(),p])):void 0,enum:void 0}):f.isArray(d)?e.push({...d,items:a.convertSchema(t)(d.items),examples:d.examples?Object.fromEntries(d.examples.map((p,j)=>[j.toString(),p])):void 0}):f.isObject(d)?e.push({...d,properties:d.properties?Object.fromEntries(Object.entries(d.properties).filter(([p,j])=>j!==void 0).map(([p,j])=>[p,a.convertSchema(t)(j)])):{},additionalProperties:d.additionalProperties?typeof d.additionalProperties=="object"&&d.additionalProperties!==null?a.convertSchema(t)(d.additionalProperties):d.additionalProperties:void 0,examples:d.examples?Object.fromEntries(d.examples.map((p,j)=>[j.toString(),p])):void 0,required:d.required??[]}):f.isReference(d)?e.push({...d,$ref:d.$ref.replace("#/definitions/","#/components/schemas/"),examples:d.examples?Object.fromEntries(d.examples.map((p,j)=>[j.toString(),p])):void 0}):e.push({...d,examples:d.examples?Object.fromEntries(d.examples.map((p,j)=>[j.toString(),p])):void 0})};if(o(n),i.value===!0&&!e.some(d=>d.type==="null")&&e.push({type:"null",default:i.default}),e.length===2&&e.filter(d=>x.isNull(d)).length===1){const d=e.filter(u=>x.isNull(u)===!1)[0];for(const u of["title","description","deprecated","example","examples"])d[u]!==void 0&&delete d[u]}return{...e.length===0?{type:void 0}:e.length===1?{...e[0]}:{oneOf:e.map(d=>({...d,"x-nullable":void 0}))},...r,"x-nullable":void 0}};const w=t=>n=>{const i=n.allOf.map(e=>l(t)(e));return i.some(e=>e===null)?{type:void 0,allOf:void 0}:{...n,type:"object",properties:Object.fromEntries(i.map(e=>Object.entries((e==null?void 0:e.properties)??{})).flat().map(([e,r])=>[e,a.convertSchema(t)(r)])),allOf:void 0,required:[...new Set(i.map(e=>(e==null?void 0:e.required)??[]).flat())]}},l=t=>(n,i=new Set)=>f.isObject(n)?n.properties!==void 0&&!n.additionalProperties?n:null:i.has(n)?null:(i.add(n),f.isReference(n)?l(t)((t==null?void 0:t[n.$ref.split("/").pop()??""])??{},i):null);let f;(function(t){t.isBoolean=n=>n.type==="boolean",t.isInteger=n=>n.type==="integer",t.isNumber=n=>n.type==="number",t.isString=n=>n.type==="string",t.isArray=n=>n.type==="array",t.isObject=n=>n.type==="object",t.isReference=n=>n.$ref!==void 0,t.isAllOf=n=>n.allOf!==void 0,t.isOneOf=n=>n["x-oneOf"]!==void 0,t.isAnyOf=n=>n["x-anyOf"]!==void 0,t.isNullOnly=n=>n.type==="null"})(f||(f={}))})(B||(B={}));var W;(function(a){function m(b){if(S.is(b))return q.convert(b);if(A.is(b))return K.convert(b);if(_.is(b))return B.convert(b);throw new TypeError("Unrecognized Swagger/OpenAPI version.")}a.convert=m;function O(b,g){if(g==="2.0")return P.downgrade(b);if(g==="3.0")return F.downgrade(b);throw new TypeError("Unrecognized Swagger/OpenAPI version.")}a.downgrade=O})(W||(W={}));export{W as O,_ as S,A as a,S as b};
